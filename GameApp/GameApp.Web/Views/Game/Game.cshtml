@using GameApp.Web.Models.Game
@{
    ViewData["Title"] = "Game";
} 
@model GameViewModel
<h1>@Model.Name </h1>
<div class="main-div left-div">
    <img width="100%" height="300px"src="~/Files/@Model.ImageUrl">

    @if(@Model.UserRating==0)
    {
        <a href="#" data-bs-toggle="modal" data-bs-target="#exampleModal">Add to favorites</a>
    }
    else
    {
        <a >Your Rating: @Model.UserRating</a>
        <br>
        <a href="#" data-bs-toggle="modal" data-bs-target="#exampleModal">Chang Rating</a>
    }

    <hr>
    <h4>Information</h4>
    <ul>
        <li>Genres:</li>
        @foreach(var genre in Model.Genres)
        {
            <li>&emsp;@genre</li>
        }
        <li>Status:</li>
        <li>Arried:</li>
        <li>Premiered:</li>
        <li>Studio:</li>

    </ul>
</div>

<div class="main-div right-div">
    <div class="rank">
        <ul class="scores">
            <li>Score:9</li>
            <li>Rank:11</li>
            <li>Popularity:11</li>
            <li>Users:3424</li>
        </ul>
    </div>

    <div class="description">
        <h2>Description</h2>
        <p>dfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasd
            dfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasd
            dfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasd
            dfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasd
            dfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasd
            dfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasd
            dfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasd
            dfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasd
            dfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasddfsafsadfasefsaedfdasfasd
        </p>
    </div>
    <h2>Recomendations</h2>
    <div class="recomendations">
        <div class="recomended-game">
            <img width="100px" height="100px"src="~/Files/User.png">
            <h5 >Name</h5>
        </div>
        <div class="recomended-game">
            <img width="100px" height="100px"src="~/Files/User.png">
            <h5 >Name</h5>
        </div>
        <div class="recomended-game">
            <img width="100px" height="100px"src="~/Files/User.png">
            <h5 >Name</h5>
        </div>
        <div class="recomended-game">
            <img width="100px" height="100px"src="~/Files/User.png">
            <h5 >Name</h5>
        </div>
        <div class="recomended-game">
            <img width="100px" height="100px"src="~/Files/User.png">
            <h5 >Name</h5>
        </div>
        <div class="recomended-game">
            <img width="100px" height="100px"src="~/Files/User.png">
            <h5 >Name</h5>
        </div>
        <div class="recomended-game">
            <img width="100px" height="100px"src="~/Files/User.png">
            <h5 >Name</h5>
        </div>
        
    </div>
    <h2>Reviews</h2>
    <div class="comments" id="comments">

        <div class="comment">
            <div class="user-info">
                <ul class="d-flex nopadding">
                    <li class="right-div" >Username</li>
                    <li >Overall Rating:10</li>
                </ul>
            </div>
            <div >
                <form>
                    <input type="hidden" id="gameId" value="@Model.Id" />
                    <textarea id="commentContents" name="" rows="4" style="width:100%" placeholder="Write your comment"></textarea>
                    <input onclick="PostComment(event)" class="btn btn-primary btn-lg" id="postComment"  type="submit" value="Comment">
                </form>
            </div>
        </div>


    </div>
    <button onclick="LoadMoreComments()" class="btn btn-primary btn-lg centerbutton">Load More</button>
</div>
<form class="mb-4" method="post">
    <input name="id" type="hidden" value="@Model.Id">
    <input type="submit" class="btn btn-primary btn-lg" asp-controller="Cart" asp-action="AddToCart">
</form>
<div class="modal fade text-dark" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">New message</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form method="post" asp-controller="Game"asp-action="Rate" >
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Rating:</label>
            <input type="hidden" value="@Model.Name" name="GameName">
            <select name="Points" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
              <option selected disabled value="">Rating</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
            </select>
            <input type="submit" class="btn btn-primary" valus="Send message">
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

@section Scripts{
    <script>
        LoadMoreComments();
    </script>

}
